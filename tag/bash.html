<!DOCTYPE html>
<html lang="en">
<head>
        <title>A Pelican Blog - bash</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />
        
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

        <header id="banner" class="body">
                <h1><a href="../.">A Pelican Blog </a></h1>
                <nav><ul>
                
                
                
                    <li><a href=".././pages/about.html">About</a></li>
                
                    <li><a href=".././pages/projects.html">Projects</a></li>
                
                    <li><a href=".././pages/resume.html">Resum√©</a></li>
                
                
                
                    <li ><a href=".././category/blog.html">blog</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
                

            

        
        
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href=".././scripting-permission-changes-for-pelican.html">Scripting Permission Changes for Pelican</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-08-21T00:00:00">
                Tue 21 August 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/ben-jacobs.html">Ben Jacobs</a>
        </address>
        
<p>In <a href=".././category/blog.html">blog</a>. </p>
<p>tags: <a href=".././tag/personal.html">personal</a><a href=".././tag/code.html">code</a><a href=".././tag/bash.html">bash</a><a href=".././tag/geeky.html">geeky</a></p>


</footer><!-- /.post-info --><p>I'm not a frequent blogger. To date, this is my second blog post. But this doesn't mean that I don't enjoy toying around with different blogging and publishing software. Last week, I decided to move my Wordpress blog to the static blogging software <a href="http://www.getpelican.com">Pelican</a>. After looking around at the guts of Wordpress, I was turned off by its complexity. I also really really really wanted to be able to edit posts offline and in my own <a href="http://www.sublimetext.com">editor</a>.</p>
<p>Pelican comes with a pretty robust Makefile that can recompile and upload your website via SSH. I ran into a small issue with my Godaddy account, in which all new files and folders were unreadable because of permission issues. The files needed to be readable by all users on the server and the folders needed to be executable by all users. I wrote a little bash script called <strong>permissions.sh</strong> and uploaded it to my server.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span class="c">#!/bin/bash</span>
<span class="c"># permissions.sh</span>

find ./ -type d | xargs chmod a+x
chmod -R a+r *
</pre></div>
</td></tr></table>

<p>The new "trick" for me was the <strong>find -type d</strong> to only list directories. I then added the following line to my Pelican Makefile under the <strong>ssh_upload</strong> section:</p>
<div class="codehilite"><pre><span class="n">ssh</span> $<span class="p">(</span><span class="n">SSH_USER</span><span class="p">)@</span>$<span class="p">(</span><span class="n">SSH_HOST</span><span class="p">)</span> <span class="o">./</span><span class="n">permissions</span><span class="p">.</span><span class="n">sh</span>
</pre></div>


<p>Works great! <s>The only issue is that I have to type my twice, once for the SCP transfer and once for the SSH command. I'll look around and see if there are any ways to store these credentials for a tiny moment in time. If not, typing the password twice is a small price to pay for not having to remotely log into the server every time I make a change.</s></p>
<p>As soon as I uploaded the last paragraph (dutifully entering my password twice), I decided to search around for a way to authenticate the connection between my computer and the server without the passwords. I found <a href="http://www.linuxproblem.org/art_9.html">this little jewel</a> and it works even better. Vive le unix.</p>
                </article>
                
                    
                
            </aside><!-- /#featured -->
            
        
        
        
            </ol><!-- /#posts-list -->
            
            </section><!-- /#content -->
        
    


        <section id="extras" class="body">
        
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->




</body>
</html>